{"ast":null,"code":"import { Popup } from '../Popup/Popup.js';\nexport class PopupWithForm extends Popup {\n  constructor(popupSelector, _submitHandler) {\n    super(popupSelector);\n    this._submitHandler = _submitHandler;\n    this._form = this._popup.querySelector('.form');\n    this._inputs = [...this._form.querySelectorAll('.form__input')];\n    this._submitButton = this._form.querySelector('.form__submit-button');\n    this._initialText = this._submitButton.textContent;\n  }\n\n  _getInputValues() {\n    const values = {};\n\n    this._inputs.forEach(input => {\n      values[input.name] = input.value;\n    });\n\n    return values;\n  }\n\n  formLoading(isLoading) {\n    if (isLoading) {\n      this._submitButton.textContent = \"Сохранение...\";\n    } else {\n      this._submitButton.textContent = this._initialText;\n    }\n  }\n\n  setEventListeners() {\n    super.setEventListeners();\n\n    this._form.addEventListener('submit', e => {\n      this.formLoading(true);\n      e.preventDefault();\n\n      this._submitHandler(this._getInputValues());\n    });\n  }\n\n  closePopup() {\n    this.formLoading(false);\n\n    this._form.reset();\n\n    super.closePopup();\n  }\n\n}","map":{"version":3,"sources":["/Users/tatananovikova/Desktop/praktikum/mesto-react/src/components/PopupWithForm/PopupWithForm.js"],"names":["Popup","PopupWithForm","constructor","popupSelector","_submitHandler","_form","_popup","querySelector","_inputs","querySelectorAll","_submitButton","_initialText","textContent","_getInputValues","values","forEach","input","name","value","formLoading","isLoading","setEventListeners","addEventListener","e","preventDefault","closePopup","reset"],"mappings":"AAAA,SAASA,KAAT,QAAsB,mBAAtB;AAEA,OAAO,MAAMC,aAAN,SAA4BD,KAA5B,CAAkC;AACvCE,EAAAA,WAAW,CAAEC,aAAF,EAAiBC,cAAjB,EAAiC;AAC1C,UAAMD,aAAN;AACA,SAAKC,cAAL,GAAsBA,cAAtB;AACA,SAAKC,KAAL,GAAa,KAAKC,MAAL,CAAYC,aAAZ,CAA0B,OAA1B,CAAb;AACA,SAAKC,OAAL,GAAe,CAAC,GAAG,KAAKH,KAAL,CAAWI,gBAAX,CAA4B,cAA5B,CAAJ,CAAf;AACA,SAAKC,aAAL,GAAqB,KAAKL,KAAL,CAAWE,aAAX,CAAyB,sBAAzB,CAArB;AACA,SAAKI,YAAL,GAAoB,KAAKD,aAAL,CAAmBE,WAAvC;AACD;;AAEDC,EAAAA,eAAe,GAAI;AACjB,UAAMC,MAAM,GAAG,EAAf;;AACA,SAAKN,OAAL,CAAaO,OAAb,CAAqBC,KAAK,IAAI;AAC5BF,MAAAA,MAAM,CAACE,KAAK,CAACC,IAAP,CAAN,GAAqBD,KAAK,CAACE,KAA3B;AACD,KAFD;;AAGA,WAAOJ,MAAP;AACD;;AAEDK,EAAAA,WAAW,CAAEC,SAAF,EAAa;AACtB,QAAIA,SAAJ,EAAe;AACb,WAAKV,aAAL,CAAmBE,WAAnB,GAAiC,eAAjC;AACD,KAFD,MAEO;AACL,WAAKF,aAAL,CAAmBE,WAAnB,GAAiC,KAAKD,YAAtC;AACD;AACF;;AAEDU,EAAAA,iBAAiB,GAAI;AACnB,UAAMA,iBAAN;;AACA,SAAKhB,KAAL,CAAWiB,gBAAX,CAA4B,QAA5B,EAAuCC,CAAD,IAAO;AAC3C,WAAKJ,WAAL,CAAiB,IAAjB;AACAI,MAAAA,CAAC,CAACC,cAAF;;AACA,WAAKpB,cAAL,CAAoB,KAAKS,eAAL,EAApB;AACD,KAJD;AAKD;;AAEDY,EAAAA,UAAU,GAAI;AACZ,SAAKN,WAAL,CAAiB,KAAjB;;AACA,SAAKd,KAAL,CAAWqB,KAAX;;AACA,UAAMD,UAAN;AACD;;AAvCsC","sourcesContent":["import { Popup } from '../Popup/Popup.js'\n\nexport class PopupWithForm extends Popup {\n  constructor (popupSelector, _submitHandler) {\n    super(popupSelector);\n    this._submitHandler = _submitHandler;\n    this._form = this._popup.querySelector('.form');\n    this._inputs = [...this._form.querySelectorAll('.form__input')];\n    this._submitButton = this._form.querySelector('.form__submit-button');\n    this._initialText = this._submitButton.textContent;\n  }\n\n  _getInputValues () {\n    const values = {};\n    this._inputs.forEach(input => {\n      values[input.name] = input.value;\n    })\n    return values;\n  }\n\n  formLoading (isLoading) {\n    if (isLoading) {\n      this._submitButton.textContent = \"Сохранение...\";\n    } else {\n      this._submitButton.textContent = this._initialText;\n    }\n  }\n  \n  setEventListeners () {\n    super.setEventListeners();\n    this._form.addEventListener('submit', (e) => {\n      this.formLoading(true);\n      e.preventDefault();\n      this._submitHandler(this._getInputValues());\n    })\n  }\n  \n  closePopup () {\n    this.formLoading(false);\n    this._form.reset();\n    super.closePopup();\n  }\n}"]},"metadata":{},"sourceType":"module"}