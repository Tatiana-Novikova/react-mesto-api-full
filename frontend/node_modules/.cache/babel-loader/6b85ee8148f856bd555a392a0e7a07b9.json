{"ast":null,"code":"import _objectSpread from\"/Users/tatananovikova/Desktop/praktikum/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/tatananovikova/Desktop/praktikum/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/tatananovikova/Desktop/praktikum/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._handleResponse=function(response){if(response.ok){return response.json();}else{return Promise.reject(response.status);}};this.address=options.address;this.token=options.token;this.cohortId=options.cohortId;}_createClass(Api,[{key:\"_request\",value:function _request(endpoint,method,body){var fetchInit={method:method,headers:{authorization:this.token,'Content-Type':'application/json'}};return fetch(\"\".concat(this.address,\"/\").concat(this.cohortId,\"/\").concat(endpoint),body?_objectSpread(_objectSpread({},fetchInit),{},{body:JSON.stringify(body)}):fetchInit).then(this._handleResponse);}},{key:\"getUserInfo\",value:function getUserInfo(){return this._request('users/me','GET');}},{key:\"getInitialCards\",value:function getInitialCards(){return this._request('cards','GET');}},{key:\"updateUserInfo\",value:function updateUserInfo(userInfo){return this._request('users/me','PATCH',userInfo);}},{key:\"updateAvatar\",value:function updateAvatar(avatar){return this._request('users/me/avatar','PATCH',avatar);}},{key:\"addNewCard\",value:function addNewCard(cardData){return this._request('cards','POST',cardData);}},{key:\"likeCard\",value:function likeCard(cardID,isLiked){return this._request(\"cards/likes/\".concat(cardID),isLiked?'DELETE':'PUT');}},{key:\"deleteCard\",value:function deleteCard(cardID){return this._request(\"cards/\".concat(cardID),'DELETE');}}]);return Api;}();var api=new Api({address:'https://mesto.nomoreparties.co/v1',token:'c846985c-30b9-4d91-bdf7-4d0b3c99bbf7',cohortId:'cohort-24'});export default api;","map":{"version":3,"sources":["/Users/tatananovikova/Desktop/praktikum/mesto-react/src/utils/Api.js"],"names":["Api","options","_handleResponse","response","ok","json","Promise","reject","status","address","token","cohortId","endpoint","method","body","fetchInit","headers","authorization","fetch","JSON","stringify","then","_request","userInfo","avatar","cardData","cardID","isLiked","api"],"mappings":"8fAAMA,CAAAA,G,yBACJ,aAAYC,OAAZ,CAAqB,gCAMrBC,eANqB,CAMH,SAACC,QAAD,CAAc,CAC9B,GAAIA,QAAQ,CAACC,EAAb,CAAiB,CACf,MAAOD,CAAAA,QAAQ,CAACE,IAAT,EAAP,CACD,CAFD,IAEO,CACL,MAAOC,CAAAA,OAAO,CAACC,MAAR,CAAeJ,QAAQ,CAACK,MAAxB,CAAP,CACD,CACF,CAZoB,CACnB,KAAKC,OAAL,CAAeR,OAAO,CAACQ,OAAvB,CACA,KAAKC,KAAL,CAAaT,OAAO,CAACS,KAArB,CACA,KAAKC,QAAL,CAAgBV,OAAO,CAACU,QAAxB,CACD,C,wCAUD,kBAAUC,QAAV,CAAoBC,MAApB,CAA4BC,IAA5B,CAAkC,CAChC,GAAMC,CAAAA,SAAS,CAAG,CAChBF,MAAM,CAAEA,MADQ,CAEhBG,OAAO,CAAE,CACPC,aAAa,CAAE,KAAKP,KADb,CAEP,eAAgB,kBAFT,CAFO,CAAlB,CAOA,MAAOQ,CAAAA,KAAK,WACP,KAAKT,OADE,aACS,KAAKE,QADd,aAC0BC,QAD1B,EAEVE,IAAI,gCAAQC,SAAR,MAAmBD,IAAI,CAAEK,IAAI,CAACC,SAAL,CAAeN,IAAf,CAAzB,GAAkDC,SAF5C,CAAL,CAGNM,IAHM,CAIL,KAAKnB,eAJA,CAAP,CAMD,C,2BAED,sBAAe,CACb,MAAO,MAAKoB,QAAL,CAAc,UAAd,CAA0B,KAA1B,CAAP,CACD,C,+BAED,0BAAmB,CACjB,MAAO,MAAKA,QAAL,CAAc,OAAd,CAAuB,KAAvB,CAAP,CACD,C,8BAED,wBAAgBC,QAAhB,CAA0B,CACxB,MAAO,MAAKD,QAAL,CAAc,UAAd,CAA0B,OAA1B,CAAmCC,QAAnC,CAAP,CACD,C,4BAED,sBAAcC,MAAd,CAAsB,CACpB,MAAO,MAAKF,QAAL,CAAc,iBAAd,CAAiC,OAAjC,CAA0CE,MAA1C,CAAP,CACD,C,0BAED,oBAAYC,QAAZ,CAAsB,CACpB,MAAO,MAAKH,QAAL,CAAc,OAAd,CAAuB,MAAvB,CAA+BG,QAA/B,CAAP,CACD,C,wBAED,kBAAUC,MAAV,CAAkBC,OAAlB,CAA2B,CACzB,MAAO,MAAKL,QAAL,uBAA6BI,MAA7B,EAAuCC,OAAO,CAAG,QAAH,CAAc,KAA5D,CAAP,CACD,C,0BAED,oBAAYD,MAAZ,CAAoB,CAClB,MAAO,MAAKJ,QAAL,iBAAuBI,MAAvB,EAAiC,QAAjC,CAAP,CACD,C,mBAGH,GAAME,CAAAA,GAAG,CAAG,GAAI5B,CAAAA,GAAJ,CAAS,CACnBS,OAAO,CAAE,mCADU,CAEnBC,KAAK,CAAE,sCAFY,CAGnBC,QAAQ,CAAE,WAHS,CAAT,CAAZ,CAMA,cAAeiB,CAAAA,GAAf","sourcesContent":["class Api {\n  constructor(options) {\n    this.address = options.address;\n    this.token = options.token;\n    this.cohortId = options.cohortId;\n  }\n\n  _handleResponse = (response) => {\n    if (response.ok) {\n      return response.json();\n    } else {\n      return Promise.reject(response.status);\n    }\n  }\n\n  _request (endpoint, method, body) {\n    const fetchInit = {\n      method: method,  \n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json'\n      }\n    };\n    return fetch (\n      `${this.address}/${this.cohortId}/${endpoint}`,\n      body ? { ...fetchInit, body: JSON.stringify(body) } : fetchInit)\n    .then (\n      this._handleResponse\n    )\n  }\n\n  getUserInfo () {\n    return this._request('users/me', 'GET');\n  }\n  \n  getInitialCards () {\n    return this._request('cards', 'GET');\n  }\n\n  updateUserInfo (userInfo) {\n    return this._request('users/me', 'PATCH', userInfo);\n  }\n\n  updateAvatar (avatar) {\n    return this._request('users/me/avatar', 'PATCH', avatar);\n  }\n\n  addNewCard (cardData) {\n    return this._request('cards', 'POST', cardData);\n  }\n\n  likeCard (cardID, isLiked) {\n    return this._request(`cards/likes/${cardID}`, isLiked ? 'DELETE' : 'PUT');\n  }\n\n  deleteCard (cardID) {\n    return this._request(`cards/${cardID}`, 'DELETE');\n  }\n}\n\nconst api = new Api ({\n  address: 'https://mesto.nomoreparties.co/v1',\n  token: 'c846985c-30b9-4d91-bdf7-4d0b3c99bbf7',\n  cohortId: 'cohort-24',\n})\n\nexport default api"]},"metadata":{},"sourceType":"module"}