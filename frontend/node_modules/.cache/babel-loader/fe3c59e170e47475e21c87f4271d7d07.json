{"ast":null,"code":"import _slicedToArray from\"/Users/tatananovikova/Desktop/praktikum/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import api from'./../../utils/Api.js';import Card from'./../Card/Card.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(props){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];React.useEffect(function(){Promise.all([api.getUserInfo(),api.getInitialCards()]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),userData=_ref2[0],cardData=_ref2[1];setUserName(userData.name);setUserDescription(userData.about);setUserAvatar(userData.avatar);setCards(cardData);}).catch(function(error){return console.log(error);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info-column\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar\",style:{backgroundImage:\"url(\".concat(userAvatar,\")\")},children:/*#__PURE__*/_jsx(\"button\",{onClick:props.onEditAvatar,className:\"profile__avatar-edit-button opacity-transition\",type:\"button\",\"aria-label\":\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__user-data-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__profession\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{onClick:props.onEditProfile,className:\"profile__edit-button opacity-transition\",type:\"button\",\"aria-label\":\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:props.onAddCard,className:\"profile__add-card-button opacity-transition\",type:\"button\",\"aria-label\":\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0443\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"photo-grid\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{card:card,onCardClick:props.onCardClick},card._id);})})]});}export default Main;","map":{"version":3,"sources":["/Users/tatananovikova/Desktop/praktikum/mesto-react/src/components/Main/Main.js"],"names":["React","api","Card","Main","props","useState","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","useEffect","Promise","all","getUserInfo","getInitialCards","then","userData","cardData","name","about","avatar","catch","error","console","log","backgroundImage","onEditAvatar","onEditProfile","onAddCard","map","card","onCardClick","_id"],"mappings":"0KAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,sBAAhB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,C,wFAEA,QAASC,CAAAA,IAAT,CAAeC,KAAf,CAAsB,CACpB,oBAAgCJ,KAAK,CAACK,QAAN,CAAe,EAAf,CAAhC,oDAAOC,QAAP,qBAAiBC,WAAjB,qBACA,qBAA8CP,KAAK,CAACK,QAAN,CAAe,EAAf,CAA9C,qDAAOG,eAAP,qBAAwBC,kBAAxB,qBACA,qBAAoCT,KAAK,CAACK,QAAN,CAAe,EAAf,CAApC,qDAAOK,UAAP,qBAAmBC,aAAnB,qBACA,qBAA0BX,KAAK,CAACK,QAAN,CAAe,EAAf,CAA1B,qDAAOO,KAAP,qBAAcC,QAAd,qBAEAb,KAAK,CAACc,SAAN,CAAgB,UAAM,CACpBC,OAAO,CAACC,GAAR,CAAY,CAACf,GAAG,CAACgB,WAAJ,EAAD,CAAoBhB,GAAG,CAACiB,eAAJ,EAApB,CAAZ,EACGC,IADH,CACQ,cAA0B,kCAAxBC,QAAwB,UAAdC,QAAc,UAC9Bd,WAAW,CAACa,QAAQ,CAACE,IAAV,CAAX,CACAb,kBAAkB,CAACW,QAAQ,CAACG,KAAV,CAAlB,CACAZ,aAAa,CAACS,QAAQ,CAACI,MAAV,CAAb,CACAX,QAAQ,CAACQ,QAAD,CAAR,CACD,CANH,EAOGI,KAPH,CAOS,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EAPT,EAQD,CATD,CASG,EATH,EAWA,mBACE,cAAM,SAAS,CAAC,SAAhB,wBACE,iBAAS,SAAS,CAAC,SAAnB,wBACE,aAAK,SAAS,CAAC,sBAAf,wBACE,YAAK,SAAS,CAAC,iBAAf,CAAiC,KAAK,CAAE,CAAEG,eAAe,eAASnB,UAAT,KAAjB,CAAxC,uBACE,eACE,OAAO,CAAEN,KAAK,CAAC0B,YADjB,CAEE,SAAS,CAAC,gDAFZ,CAGE,IAAI,CAAC,QAHP,CAIE,aAAW,qHAJb,EADF,EADF,cASI,aAAK,SAAS,CAAC,yBAAf,wBACA,aAAK,SAAS,CAAC,8BAAf,wBACE,WAAI,SAAS,CAAC,eAAd,UAA+BxB,QAA/B,EADF,cAEE,UAAG,SAAS,CAAC,qBAAb,UAAoCE,eAApC,EAFF,GADA,cAKA,eACE,OAAO,CAAEJ,KAAK,CAAC2B,aADjB,CAEE,SAAS,CAAC,yCAFZ,CAGE,IAAI,CAAC,QAHP,CAIE,aAAW,2HAJb,EALA,GATJ,GADF,cAuBE,eACE,OAAO,CAAE3B,KAAK,CAAC4B,SADjB,CAEE,SAAS,CAAC,6CAFZ,CAGE,IAAI,CAAC,QAHP,CAIE,aAAW,mGAJb,EAvBF,GADF,cA+BE,gBAAS,SAAS,CAAC,YAAnB,UACGpB,KAAK,CAACqB,GAAN,CAAU,SAACC,IAAD,CAAU,CACnB,mBAAQ,KAAC,IAAD,EAAqB,IAAI,CAAEA,IAA3B,CAAiC,WAAW,CAAE9B,KAAK,CAAC+B,WAApD,EAAWD,IAAI,CAACE,GAAhB,CAAR,CACD,CAFA,CADH,EA/BF,GADF,CAuCD,CAED,cAAejC,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport api from './../../utils/Api.js';\nimport Card from './../Card/Card.js';\n\nfunction Main (props) {\n  const [userName, setUserName] = React.useState('');\n  const [userDescription, setUserDescription] = React.useState('');\n  const [userAvatar, setUserAvatar] = React.useState('');\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([userData, cardData]) => {\n        setUserName(userData.name);\n        setUserDescription(userData.about);\n        setUserAvatar(userData.avatar);\n        setCards(cardData);\n      })\n      .catch((error) => console.log(error));\n  }, [])\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__info-column\">\n          <div className=\"profile__avatar\" style={{ backgroundImage: `url(${userAvatar})` }} >\n            <button \n              onClick={props.onEditAvatar}\n              className=\"profile__avatar-edit-button opacity-transition\"\n              type=\"button\"\n              aria-label=\"Редактировать аватар\">\n            </button>\n            </div>\n            <div className=\"profile__info-container\">\n            <div className=\"profile__user-data-container\">\n              <h1 className=\"profile__name\">{userName}</h1>\n              <p className=\"profile__profession\">{userDescription}</p>\n            </div>\n            <button \n              onClick={props.onEditProfile}\n              className=\"profile__edit-button opacity-transition\" \n              type=\"button\" \n              aria-label=\"Редактировать профиль\">\n            </button>\n            </div>\n        </div>\n        <button \n          onClick={props.onAddCard}\n          className=\"profile__add-card-button opacity-transition\" \n          type=\"button\" \n          aria-label=\"Добавить карточку\">\n        </button>\n      </section>\n      <section className=\"photo-grid\">\n        {cards.map((card) => {\n          return (<Card key={card._id} card={card} onCardClick={props.onCardClick}/>)\n        })}\n      </section>\n    </main>\n  );\n}\n\nexport default Main"]},"metadata":{},"sourceType":"module"}